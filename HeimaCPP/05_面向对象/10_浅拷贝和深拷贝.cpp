#include <iostream>
#include <string>

using namespace std;

/*
???????????
?????????????????????????????????????????

????
    ??????????????????
    ????????н??г????????????
*/

class Person {
public:
    Person() {
        cout << "Person无参构造函数" << endl;
    }

    Person(string name, int age) {
        m_Name = name;
        m_Age = new int(age); // ???????????????
        cout << "Person有参构造函数" << endl;
    }

    Person(const Person& p) {
        m_Name = p.m_Name;
        m_Age = p.m_Age; // ????????????????????
        // m_Age = new int(*p.m_Age);
        cout << "Person拷贝构造函数" << endl;
    }

    ~Person() {
        // 如果不为NULL，先删除，然后置为NULL
        if (m_Age != NULL) {
            delete m_Age;
            m_Age = NULL;
        }

        cout << "Person析构函数" << endl;
    }

public:
    string m_Name;
    int* m_Age;
};


int main(int argc, char const *argv[])
{
    Person p1("person1", 10);
    Person p2(p1);

    cout << &p1.m_Age << " " << &p2.m_Age << endl;

    system("pause");
    return 0;
}
